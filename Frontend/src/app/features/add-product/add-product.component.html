<div class="form-container">
  <h2>{{ id == "0" ? "Add New " : "Update " }}Product</h2>
  <form [formGroup]="productForm" (ngSubmit)="onSubmit()" class="product-form">
    <label for="image">Product Image</label>
    <input id="image" type="file" (change)="onImagePicked($event)" />
    <div *ngIf="imagePreview" class="image-preview">
      <img [src]="imagePreview" alt="Product Image Preview" />
    </div>

    <label for="name">Product Name</label>
    <input
      id="name"
      formControlName="name"
      type="text"
      placeholder="Enter product name"
    />

    <label for="description">Description</label>
    <textarea
      id="description"
      formControlName="description"
      rows="3"
      placeholder="Enter product description"
    ></textarea>

    <label for="model">Model</label>
    <input
      id="model"
      formControlName="model"
      type="text"
      placeholder="Enter product model"
    />

    <label for="price">Price ($)</label>
    <input
      id="price"
      formControlName="price"
      type="number"
      step="0.01"
      placeholder="Enter price"
    />

    <label for="stock_items">Stock Items</label>
    <input
      id="stock_items"
      formControlName="stock_items"
      type="number"
      placeholder="Enter stock count"
    />

    <label for="CategoryID">Category</label>
    <p-dropdown
      formControlName="CategoryID"
      [options]="category"
      optionLabel="name"
      placeholder="Select a Category"
      (onChange)="onCategoryChange($event)"
    />

    <label for="BID">Brand</label>
    <p-dropdown
      formControlName="BID"
      [options]="brand"
      optionLabel="name"
      placeholder="Select a Brand"
    />

    <button type="submit" class="submit-btn">
      {{ id == "0" ? "Add " : "Update " }}Product
    </button>
    <br />
    <br />
  </form>

  @if(id != '0'){
  <button class="delete-btn" (click)="deleteProduct()">
    <i class="pi pi-trash"></i> Delete Product
  </button>
  }

  <!-- Button to show details -->
  <button class="details-btn" (click)="viewProduct()">
    <i class="pi pi-eye"></i> View Product Details
  </button>
</div>
